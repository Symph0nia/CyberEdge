import{n as o,c as a}from"./index-00af24fc.js";var l=function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("t-form",{ref:"form",attrs:{data:t.formData,rules:t.rules},on:{submit:t.onSubmit}},[e("t-form-item",{attrs:{label:"URL",name:"url",help:"URL格式：www.example.com"}},[e("t-input",{attrs:{placeholder:"请输入URL"},model:{value:t.formData.url,callback:function(n){t.$set(t.formData,"url",n)},expression:"formData.url"}})],1),e("t-form-item",{staticStyle:{"margin-left":"100px"}},[e("t-space",{attrs:{size:"10px"}},[e("t-button",{attrs:{theme:"primary",type:"submit",ghost:""}},[t._v("提交")])],1)],1)],1)},u=[];const i={data(){return{formData:{url:""},rules:{url:[{required:!0,message:"URL必填",type:"error"},{validator:this.urlValidator,message:"无效的URL"}]}}},methods:{onSubmit({validateResult:t}){if(t===!0){const r={target:this.formData.url};this.$request.post("/api/full_scanner/scan",r,{headers:{"Content-Type":"application/json"}}).then(e=>{a.success("子域名扫描任务提交成功")}).catch(e=>{a.error("子域名扫描任务提交失败")})}else a.warning("表单验证失败，请检查输入")},urlValidator(t){return/^(http:\/\/www\.|https:\/\/www\.|http:\/\/|https:\/\/)?[a-z0-9]+([\-\.]{1}[a-z0-9]+)*\.[a-z]{2,5}(:[0-9]{1,5})?(\/.*)?$/.test(t)}}},s={};var c=o(i,l,u,!1,m,"21d30fa6",null,null);function m(t){for(let r in s)this[r]=s[r]}const _=function(){return c.exports}();export{_ as default};
