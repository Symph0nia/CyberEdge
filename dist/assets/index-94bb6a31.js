import{n,c as r}from"./index-92835acd.js";var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("t-form",{ref:"form",attrs:{data:t.formData,rules:t.rules},on:{submit:t.onSubmit}},[e("t-form-item",{attrs:{label:"域名",name:"domain",help:"域名格式：www.example.com"}},[e("t-input",{attrs:{placeholder:"请输入域名"},model:{value:t.formData.domain,callback:function(o){t.$set(t.formData,"domain",o)},expression:"formData.domain"}})],1),e("t-form-item",{staticStyle:{"margin-left":"100px"}},[e("t-space",{attrs:{size:"10px"}},[e("t-button",{attrs:{theme:"primary",type:"submit",ghost:""}},[t._v("提交")])],1)],1)],1)},m=[];const l={data(){return{formData:{domain:""},rules:{domain:[{required:!0,message:"域名必填",type:"error"},{validator:this.urlValidator,message:"无效的域名"}]}}},methods:{onSubmit({validateResult:t}){if(t===!0){const a={domain:this.formData.domain};this.$request.post("/api/target/create",a,{headers:{"Content-Type":"application/json"}}).then(e=>{r.success("新增目标成功")}).catch(e=>{r.error("新增目标失败")})}else r.warning("表单验证失败，请检查输入")},urlValidator(t){return/^(http:\/\/www\.|https:\/\/www\.|http:\/\/|https:\/\/)?[a-z0-9]+([\-\.]{1}[a-z0-9]+)*\.[a-z]{2,5}(:[0-9]{1,5})?(\/.*)?$/.test(t)}}},s={};var u=n(l,i,m,!1,c,"5f8c4404",null,null);function c(t){for(let a in s)this[a]=s[a]}const _=function(){return u.exports}();export{_ as default};
